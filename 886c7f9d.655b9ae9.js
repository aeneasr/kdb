(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{309:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return w})),n.d(t,"metadata",(function(){return y})),n.d(t,"rightToc",(function(){return j})),n.d(t,"default",(function(){return N}));var a=n(2),i=n(6),s=(n(0),n(312)),r=n(317),o=n(368),l=n(360),c=n(361),d=n(362);const p={curl:{label:"Raw HTTP",language:"shell",code:n(942).default},js:{label:"JavaScript SDK",language:"js",code:n(943).default},go:{label:"Go SDK",language:"go",code:n(944).default}},u={curl:{label:"Raw HTTP",language:"shell",code:n(945).default},html:{label:"HTML",language:"html",code:n(946).default},jsx:{label:"ReactJS",language:"js",code:n(947).default},node:{label:"Angular",language:"html",code:n(948).default},angular:{label:"ExpressJS",language:"js",code:n(949).default}},b={curl:{label:"Raw HTTP",language:"shell",code:n(950).default},js:{label:"Node",language:"js",code:n(951).default},go:{label:"Go",language:"go",code:n(952).default}},m={browser:{label:"Browser UI",image:n(953).default,alt:"User Registration HTML Form with validation errors"},missing:{label:"Missing Email",language:"shell",code:n(954).default},wrong:{label:"Password Policy Violation",language:"shell",code:n(955).default}},h={browser:{label:"Browser UI",image:n(956).default,alt:"User Registration HTML Form with missing or invalid fields when performing an OpenID Connect flow"},missing:{label:"Missing Website",language:"shell",code:n(957).default}},f={missing:{label:"Missing ID Token",language:"shell",code:n(958).default}};var g,v=n(370),w={id:"user-registration",title:"User Registration"},y={unversionedId:"self-service/flows/user-registration",id:"self-service/flows/user-registration",isDocsHomePage:!1,title:"User Registration",description:"Please read the Self-Service Flows overview before",source:"@site/docs/self-service/flows/user-registration.mdx",permalink:"/kratos/docs/next/self-service/flows/user-registration",editUrl:"https://github.com/ory/kratos/edit/master/docs/docs/self-service/flows/user-registration.mdx",version:"next",lastUpdatedBy:"aeneasr",lastUpdatedAt:1599636633,sidebar:"docs",previous:{title:"Self-Service Flows",permalink:"/kratos/docs/next/self-service"},next:{title:"User Login",permalink:"/kratos/docs/next/self-service/flows/user-login"}},j=[{value:"Initialize Registration Flow",id:"initialize-registration-flow",children:[{value:"Registration for Browser Clients",id:"registration-for-browser-clients",children:[]},{value:"Registration for API Clients",id:"registration-for-api-clients",children:[]}]},{value:"Registration Form Payloads",id:"registration-form-payloads",children:[{value:"Registration with Username/Email and password",id:"registration-with-usernameemail-and-password",children:[]},{value:"Registration with Google, Facebook, GitHub, ..., OpenID Connect / OAuth 2.0",id:"registration-with-google-facebook-github--openid-connect--oauth-20",children:[]}]},{value:"Registration Flow Form Rendering",id:"registration-flow-form-rendering",children:[]},{value:"Registration Form Validation",id:"registration-form-validation",children:[{value:"Registration with Username/Email and Password",id:"registration-with-usernameemail-and-password-1",children:[]},{value:"Registration with Google, Facebook, GitHub, ..., OpenID Connect / OAuth 2.0",id:"registration-with-google-facebook-github--openid-connect--oauth-20-1",children:[]}]},{value:"Successful Registration",id:"successful-registration",children:[{value:"Browser Clients",id:"browser-clients",children:[]},{value:"API Clients",id:"api-clients",children:[]}]},{value:"Hooks",id:"hooks",children:[]}],O=(g="CodeFromRemote",function(e){return console.warn("Component "+g+" was not imported, exported, or provided by MDXProvider as global scope"),Object(s.b)("div",e)}),k={rightToc:j};function N(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(s.b)("wrapper",Object(a.a)({},k,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)("div",{className:"admonition admonition-info alert alert--info"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"rmation")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Please read the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../../self-service"}),"Self-Service Flows")," overview before\ncontinuing with this document."))),Object(s.b)("p",null,"There are two Registration Flow types supported in ORY Kratos:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"Flows where the user sits in front of the Browser (e.g. website, single page\napp, ...)"),Object(s.b)("li",{parentName:"ul"},"Flows where API interaction is required (e.g. mobile app, Smart TV, ...)")),Object(s.b)("p",null,"The Registration Flow can be summarized as the following state machine:"),Object(s.b)(r.a,{chart:'\nstateDiagram\n  s1: Flow is initialized\n  s2: Execute Before Registration Hook(s)\n  s3: User Interface renders Registration Flow Forms\n  s4: Execute After Registration Hook(s)\n  s5: Update Registration Flow with Error Context(s)\n  s6: Registration successful\n\t[*] --\x3e s1 : User clicks "Sign up"\n  s1 --\x3e s2\n  s2 --\x3e Error : A hook fails\n  s2 --\x3e s3\n  s3 --\x3e s4 : User provides valid registration data\n  s3 --\x3e s5 : User provides invalid registration data\n  s5 --\x3e s3\n  s4 --\x3e Error : A hook fails\n  s4 --\x3e s6\n  s6 --\x3e [*]\n  Error --\x3e [*]\n',mdxType:"Mermaid"}),Object(s.b)("p",null,"Currently, two registration methods are supported:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"password")," for signing up with an email / username and password;"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("inlineCode",{parentName:"li"},"oidc")," for signing up using a social sign in provider such as Google or Facebook.")),Object(s.b)("p",null,"Both are dis/enabled in the ORY Kratos config:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml",metastring:'title="path/to/my/kratos/config.yml"',title:'"path/to/my/kratos/config.yml"'}),"selfservice:\n  methods:\n    password:\n      enabled: true\n    oidc:\n      enabled: true\n      # ...\n")),Object(s.b)("h2",{id:"initialize-registration-flow"},"Initialize Registration Flow"),Object(s.b)("p",null,"The first step is to initialize the Registration Flow. This allows pre-registration hooks to run, set up Anti-CSRF tokens,\nand more."),Object(s.b)("h3",{id:"registration-for-browser-clients"},"Registration for Browser Clients"),Object(s.b)("p",null,"The Registration Flow for browser clients relies on HTTP redirects between ORY Kratos, your Registration UI, and the end-user's\nbrowser:"),Object(s.b)(l.a,{flows:["registration"],success:"Create user",interactions:['"Sign up"'],mdxType:"SelfServiceBrowserFlow"}),Object(s.b)("p",null,"To initialize the Registration Flow, point the Browser to\n",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../../self-service#initialization-and-redirect-to-ui"}),"the initialization endpoint"),":"),Object(s.b)(d.a,{items:u,mdxType:"CodeTabs"}),Object(s.b)("p",null,"The server responds with a HTTP 302 redirect to the Registration UI, appending the ",Object(s.b)("inlineCode",{parentName:"p"},"?flow=<flow-id>")," query\nparemeter (see the curl example) to the URL configured here:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml",metastring:'title="path/to/config/kratos.yml"',title:'"path/to/config/kratos.yml"'}),"selfservice:\n  flows:\n    registration:\n      # becomes http://127.0.0.1:4455/auth/registration?flow=df607aa1-d555-4b2a-b3e4-0f5a1d2fe6f3\n      ui_url:  http://127.0.0.1:4455/auth/registration\n")),Object(s.b)("h3",{id:"registration-for-api-clients"},"Registration for API Clients"),Object(s.b)(o.a,{mdxType:"ApiWarning"}),Object(s.b)("p",null,"The Registration Flow for API clients does not use HTTP Redirects and can be summarized as follows:"),Object(s.b)(c.a,{flows:["registration"],success:"Return registration session token",interactions:['"Sign in"'],mdxType:"SelfServiceApiFlow"}),Object(s.b)("p",null,"To initialize the API flow (",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../reference/api#getSelfServiceRegistrationFlow"}),"REST API Reference"),"), the client ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../../self-service#initialization"}),"calls the API-flow initialization endpoint"),"\nwhich returns a JSON response:"),Object(s.b)(d.a,{items:b,mdxType:"CodeTabs"}),Object(s.b)("h2",{id:"registration-form-payloads"},"Registration Form Payloads"),Object(s.b)("p",null,"Fetching the Registration Flow (",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../reference/api#get-registration-flow"}),"REST API Reference"),") is usually only required for browser clients but also works\nfor Registration Flows initializied by API clients. All you need is a valid flow ID:"),Object(s.b)(d.a,{items:p,mdxType:"CodeTabs"}),Object(s.b)("h3",{id:"registration-with-usernameemail-and-password"},"Registration with Username/Email and password"),Object(s.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Before you start")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Please read the\n",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../../concepts/credentials/username-email-password"}),"Username / Email & Password Credentials Documentation")," first."))),Object(s.b)("p",null,"When the ",Object(s.b)("inlineCode",{parentName:"p"},"password")," method is enabled, it will be part of the ",Object(s.b)("inlineCode",{parentName:"p"},"methods")," payload in the Registration Flow."),Object(s.b)("p",null,"ORY Kratos uses the Identity JSON Schema defined in\n",Object(s.b)("inlineCode",{parentName:"p"},"identity.default_schema_url")," to generate a list of form fields and add it to\nthe Registration Flow."),Object(s.b)("p",null,"Assuming we are using the Identity JSON Schema from the Quickstart"),Object(s.b)(O,{link:"https://github.com/ory/kratos/blob/master/contrib/quickstart/kratos/email-password/identity.traits.schema.json",src:"https://raw.githubusercontent.com/ory/kratos/master/contrib/quickstart/kratos/email-password/identity.traits.schema.json",mdxType:"CodeFromRemote"}),Object(s.b)("p",null,"the response would look as such:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),'$ curl -H "Accept: application/json" -s \\\n  \'http://127.0.0.1:4433/self-service/registration/flows?id=838895fb-bb05-4075-8a7e-1cd22ca42017\' | jq\n\n{\n  "id": "838895fb-bb05-4075-8a7e-1cd22ca42017",\n  "type": "browser",\n  "expires_at": "2020-09-05T08:24:36.4797386Z",\n  "issued_at": "2020-09-05T08:14:36.4797386Z",\n  "request_url": "http://127.0.0.1:4433/self-service/registration/browser",\n  "methods": {\n    "password": {\n      "method": "password",\n      "config": {\n        "action": "http://127.0.0.1:4433/self-service/registration/methods/password?flow=838895fb-bb05-4075-8a7e-1cd22ca42017",\n        "method": "POST",\n        "fields": [\n          {\n            "name": "csrf_token",\n            "type": "hidden",\n            "required": true,\n            "value": "GTZrak1TBiIfyyaFajmrp/A6dS4Gh3NpMPzQjJ9ChSS7d4ODojfibHcfgNTX/9ivwci/V1K6GuRY/f4b545NUA=="\n          },\n          {\n            "name": "password",\n            "type": "password",\n            "required": true\n          },\n          {\n            "name": "traits.email",\n            "type": "email"\n          },\n          {\n            "name": "traits.name.first",\n            "type": "text"\n          },\n          {\n            "name": "traits.name.last",\n            "type": "text"\n          }\n        ]\n      }\n    }\n  }\n}\n')),Object(s.b)("h3",{id:"registration-with-google-facebook-github--openid-connect--oauth-20"},"Registration with Google, Facebook, GitHub, ..., OpenID Connect / OAuth 2.0"),Object(s.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Before you start")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Check out the\n",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"/kratos/docs/next/guides/sign-in-with-github-google-facebook-linkedin"}),"Sign in with GitHub, Google, ... Guide")," and learn how\nto set up this method!"))),Object(s.b)("p",null,"The Social Sign Up Method (",Object(s.b)("inlineCode",{parentName:"p"},"oidc"),") enables you to use"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"http://github.com/"}),"GitHub"),";"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://developer.apple.com/sign-in-with-apple/"}),"Apple"),";"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://developers.google.com/identity/sign-in/web/sign-in"}),"Google"),";"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://developers.facebook.com/docs/facebook-login/"}),"Facebook"),";"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.ory.sh/hydra"}),"ORY Hydra"),";"),Object(s.b)("li",{parentName:"ul"},Object(s.b)("a",Object(a.a)({parentName:"li"},{href:"https://www.keycloak.org"}),"Keycloak"),";"),Object(s.b)("li",{parentName:"ul"},"and every other OpenID Connect Certified Provider")),Object(s.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Social Sign Up is currently not possible for API Clients. It will be possible in\na future version, which is partially tracked as\n",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/ory/kratos/issues/273"}),"kratos#273")))),Object(s.b)("p",null,"If enabled, the method contains an ",Object(s.b)("inlineCode",{parentName:"p"},"oidc")," key with the\nconfigured sign in providers as submit fields:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),'$ curl -H "Accept: application/json" -s \\\n  \'http://127.0.0.1:4433/self-service/registration/flows?id=838895fb-bb05-4075-8a7e-1cd22ca42017\' | jq\n\n{\n  "id": "838895fb-bb05-4075-8a7e-1cd22ca42017",\n  "type": "browser",\n  "expires_at": "2020-09-05T08:24:36.4797386Z",\n  "issued_at": "2020-09-05T08:14:36.4797386Z",\n  "request_url": "http://127.0.0.1:4433/self-service/registration/browser",\n  "methods": {\n    "oidc": {\n      "method": "oidc",\n      "config": {\n        "action": "http://127.0.0.1:4433/self-service/methods/oidc/auth/838895fb-bb05-4075-8a7e-1cd22ca42017",\n        "method": "POST",\n        "fields": [\n          {\n            "name": "csrf_token",\n            "type": "hidden",\n            "required": true,\n            "value": "GTZrak1TBiIfyyaFajmrp/A6dS4Gh3NpMPzQjJ9ChSS7d4ODojfibHcfgNTX/9ivwci/V1K6GuRY/f4b545NUA=="\n          },\n          {\n            "name": "provider",\n            "type": "submit",\n            "value": "github"\n          }\n        ]\n      }\n    }\n  }\n}\n')),Object(s.b)("h2",{id:"registration-flow-form-rendering"},"Registration Flow Form Rendering"),Object(s.b)("p",null,"The Registration User Interface is a route (page / site) in your\napplication (server, native app, single page app) that should render\na registration form."),Object(s.b)("p",null,"In stark contrast to other Identity Systems, ORY Kratos does not render this\nHTML. Instead, you need to implement the HTML code in your application (e.g.\nNodeJS + ExpressJS, Java, PHP, ReactJS, ...), which gives you extreme\nflexibility and customizability in your user interface flows and designs."),Object(s.b)("p",null,"You will use the Registration Flow JSON response to render the registration form UI,\nwhich could looks as follows depending on your\nprogramming language and web framework:"),Object(s.b)(v.a,{flow:"registration",mdxType:"RenderFlow"}),Object(s.b)("h2",{id:"registration-form-validation"},"Registration Form Validation"),Object(s.b)("p",null,"The form payloads are then submitted to ORY Kratos which follows up with:"),Object(s.b)("ul",null,Object(s.b)("li",{parentName:"ul"},"An HTTP 302 Found redirect pointing to the Registration UI for Browser Clients."),Object(s.b)("li",{parentName:"ul"},"An ",Object(s.b)("inlineCode",{parentName:"li"},"application/json")," response for API Clients.")),Object(s.b)("h3",{id:"registration-with-usernameemail-and-password-1"},"Registration with Username/Email and Password"),Object(s.b)("p",null,"To complete the registration process, the end-user fills out the form which\nmust include a field marked as the identifier (",Object(s.b)("inlineCode",{parentName:"p"},"ory.sh/kratos.credentials.password.identifier: true"),") in the Identity JSON Schema, for\nexample:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "$id": "https://schemas.ory.sh/presets/kratos/quickstart/email-password/identity.schema.json",\n  "$schema": "http://json-schema.org/draft-07/schema#",\n  "title": "Person",\n  "type": "object",\n  "properties": {\n    "traits": {\n      "type": "object",\n      "properties": {\n        "email": {\n          "type": "string",\n          "format": "email",\n          "ory.sh/kratos": {\n            "credentials": {\n              "password": {\n                "identifier": true\n              }\n            }\n          }\n        }\n      },\n      "required": [\n        "email"\n      ],\n      "additionalProperties": false\n    }\n  }\n}\n')),Object(s.b)("p",null,"If the registration payload is invalid (e.g. the password does\nnot match the password policy, the email is missing, ...), the\npassword method includes the validation errors:"),Object(s.b)(d.a,{items:m,mdxType:"CodeTabs"}),Object(s.b)("p",null,"When validation errors happen, browser clients receive a HTTP 302 Found redirect to the Registration Flow UI, containing the Registration Flow ID which includes the error payloads."),Object(s.b)("p",null,"For API Clients, the server typically responds with HTTP 400 Bad Request and the Registration Flow in the response payload as JSON."),Object(s.b)("h3",{id:"registration-with-google-facebook-github--openid-connect--oauth-20-1"},"Registration with Google, Facebook, GitHub, ..., OpenID Connect / OAuth 2.0"),Object(s.b)("p",null,"Completing the ",Object(s.b)("inlineCode",{parentName:"p"},"oidc")," method requires the user to go through an OAuth 2.0 or OpenID Connect flow which\ninvolves logging into the upstream identity provider (e.g. Google) and giving consent."),Object(s.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"If the user has already sign up with the given provider before, the user will simply be logged in\nand no new ORY Kratos Identity will be created."))),Object(s.b)("p",null,"A possible validation error is a missing ID Token:"),Object(s.b)(d.a,{items:f,mdxType:"CodeTabs"}),Object(s.b)("p",null,"What may also happen is that the ORY Kratos Identity Schema JSON includes a field which is required but\nwas not provided by the upstream identity provider (e.g. Google). In those cases, the end-user's browser\nis returned to the registration screen with the form validation errors."),Object(s.b)("p",null,"Let's assume the ORY Kratos Identity Schema JSON requires a ",Object(s.b)("inlineCode",{parentName:"p"},"website")," trait"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{}),'{\n  "$id": "https://schemas.ory.sh/presets/kratos/quickstart/email-password/identity.schema.json",\n  "$schema": "http://json-schema.org/draft-07/schema#",\n  "title": "Person",\n  "type": "object",\n  "properties": {\n    "traits": {\n      "type": "object",\n      "properties": {\n        "email": {\n          "type": "string",\n          "format": "email",\n          "ory.sh/kratos": {\n            "credentials": {\n              "password": {\n                "identifier": true\n              }\n            }\n          }\n        },\n        "website": {\n          "type": "string"\n        }\n      },\n      "required": [\n        "email",\n        "website"\n      ],\n      "additionalProperties": false\n    }\n  }\n}\n')),Object(s.b)("p",null,'which was not provided by the upstream identity provider. This can happen when the user refuses to accept a\ncertain scope (e.g. "Allow ORY Kratos access to my website") or if the provider simply does not have this data (e.g. the upstream\nidentity provider does not collect the user\'s website).'),Object(s.b)("p",null,"In that case the end-user ends up at the registration screen and is prompted to provide the missing or invalid fields:"),Object(s.b)(d.a,{items:h,mdxType:"CodeTabs"}),Object(s.b)("h2",{id:"successful-registration"},"Successful Registration"),Object(s.b)("p",null,"Completing the registration behaves differently for Browser and API Clients. The Registration Flow\ndoes not issue a ORY Kratos Login Session automatically which prevents Account Enumeration Attacks.\nIf these types of attacks are not your concern, you can add the session hook which will issue\na session after successful registration:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml",metastring:'title="path/to/my/kratos/config.yml"',title:'"path/to/my/kratos/config.yml"'}),"# $ kratos -c path/to/my/kratos/config.yml serve\nselfservice:\n  flows:\n    registration:\n      after:\n        password:\n          hooks:\n            - hook: session\n        oidc:\n          hooks:\n            - hook: session # Always enable this for oidc flows or the user experience suffers significantly!\n")),Object(s.b)("div",{className:"admonition admonition-important alert alert--info"},Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(s.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(s.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},'It is very important to add the "session" hook to the after ',Object(s.b)("inlineCode",{parentName:"p"},"oidc")," registration\nhooks. Otherwise your users need to use the login flow again to be able to get a\nsession. Account Enumeration Attacks with OpenID Connect sign in flows are\ntypically not an issue if you follow the guidelines in the\n",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../../guides/sign-in-with-github-google-facebook-linkedin"}),"Sign in with GitHub, Google, Facebook, LinkedIn, Microsoft ... Guide"),"!"))),Object(s.b)("h3",{id:"browser-clients"},"Browser Clients"),Object(s.b)("p",null,"When the registration is completed successfully, ORY Kratos responds with a HTTP 302 Redirect to the\n",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../../concepts/browser-redirect-flow-completion"}),"configured redirect URL"),"."),Object(s.b)("h4",{id:"with-auto-login-on-registration"},"With Auto-Login on Registration"),Object(s.b)("p",null,"If the ",Object(s.b)("inlineCode",{parentName:"p"},"session")," after hook is enabled, a ",Object(s.b)("inlineCode",{parentName:"p"},"Set-Cookie")," HTTP Header is set alongside the HTTP 302 redirect\nwhich contains the ORY Kratos Login Session Cookie:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{}),"HTTP/1.1 302 Found\nCache-Control: 0\nLocation: http://127.0.0.1:4455/\nSet-Cookie: csrf_token=b8OebRPTPr5ow23mA5gIZmFNLeuMbv8pZz1jT1Ex7ys=; Path=/; Domain=127.0.0.1; Max-Age=31536000; HttpOnly\nSet-Cookie: ory_kratos_session=MTU5OTE2ODc2N3xEdi1CQkFFQ180SUFBUkFCRUFBQVJfLUNBQUVHYzNSeWFXNW5EQThBRFhObGMzTnBiMjVmZEc5clpXNEdjM1J5YVc1bkRDSUFJR055VlROMGRteHhSakJrUzBkbmRUUjBlVFY1V0RCRWFVTnJXVmR6V25oaHx2DICsB6IMbaHSQwnYITUZqr7Qx7CxUlnaneJWH495wQ==; Path=/; Expires=Fri, 04 Sep 2020 21:32:47 GMT; Max-Age=86400; HttpOnly; SameSite=Lax\nVary: Cookie\nDate: Thu, 03 Sep 2020 21:32:47 GMT\nContent-Length: 0\n")),Object(s.b)("p",null,"Now, whenever the browser is making a request (with cookies) to the ",Object(s.b)("inlineCode",{parentName:"p"},"http://127.0.0.1/sessions/whoami")," endpoint,\nthe session will be returned:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),'curl -s -H "Cookie: ory_kratos_session=MTU5OTE2ODc2N3xEdi1CQkFFQ180SUFBUkFCRUFBQVJfLUNBQUVHYzNSeWFXNW5EQThBRFhObGMzTnBiMjVmZEc5clpXNEdjM1J5YVc1bkRDSUFJR055VlROMGRteHhSakJrUzBkbmRUUjBlVFY1V0RCRWFVTnJXVmR6V25oaHx2DICsB6IMbaHSQwnYITUZqr7Qx7CxUlnaneJWH495wQ==" \\\n  http://127.0.0.1:4433/sessions/whoami | jq\n\n{\n  "id": "ede90ce6-2420-435a-a745-3d8ab1a9636c",\n  "active": true,\n  "expires_at": "2020-09-04T21:32:47.5642404Z",\n  "authenticated_at": "2020-09-03T21:32:47.5881038Z",\n  "issued_at": "2020-09-03T21:32:47.5642688Z",\n  "identity": {\n    "id": "d96e86d9-bc33-4aa5-b865-4ade8a3974b3",\n    "schema_id": "default",\n    "schema_url": "http://127.0.0.1:4433/schemas/default",\n    "traits": {\n      "email": "foouser@ory.sh",\n      "name": {\n        "first": "foo",\n        "last": "user"\n      }\n    },\n    "verifiable_addresses": [\n      {\n        "id": "81bbdeae-6333-42f2-877e-26c78acb6ea5",\n        "value": "foouser@ory.sh",\n        "verified": false,\n        "via": "email",\n        "status": "pending",\n        "verified_at": null\n      }\n    ],\n    "recovery_addresses": [\n      {\n        "id": "596c1db4-ccaa-4f4e-9623-cb7e768026ad",\n        "value": "foouser@ory.sh",\n        "via": "email"\n      }\n    ]\n  }\n}\n')),Object(s.b)("h3",{id:"api-clients"},"API Clients"),Object(s.b)("p",null,"For API Clients, ORY Kratos responds with a JSON payload which includes the identity which\njust authenticated, the session, and the ORY Kratos Session Token:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),'# Inits a Registration Flow\n$ actionUrl=$(\\\n  curl -s -X GET -H "Accept: application/json" \\\n    "http://127.0.0.1:4433/self-service/registration/api" \\\n    | jq -r \'.methods.password.config.action\'\\\n)\n\n# Complete Registration Flow with password method\n$ curl -s -X POST -H  "Accept: application/json" -H "Content-Type: application/json" \\\n    -d \'{"traits.email": "registration-api@user.org", "password": "fhAzi860a"}\' \\\n    "$actionUrl" | jq\n\n{\n  "identity": {\n    "id": "d8baf63b-7ce6-4275-82b9-9ac6d97e5037",\n    "schema_id": "default",\n    "schema_url": "http://127.0.0.1:4433/schemas/default",\n    "traits": {\n      "email": "registration-api@user.org"\n    },\n    "verifiable_addresses": [\n      {\n        "id": "87defb49-ad69-461c-b5f6-56c1ec39dd39",\n        "value": "registration-api@user.org",\n        "verified": false,\n        "via": "email",\n        "status": "pending",\n        "verified_at": null\n      }\n    ],\n    "recovery_addresses": [\n      {\n        "id": "232793b8-8d60-427d-89e6-d0a97a7a172c",\n        "value": "registration-api@user.org",\n        "via": "email"\n      }\n    ]\n  }\n}\n')),Object(s.b)("h4",{id:"with-auto-login-on-registration-1"},"With Auto-Login on Registration"),Object(s.b)("p",null,"If the ",Object(s.b)("inlineCode",{parentName:"p"},"session")," after hook is enabled, the ORY Kratos Login Session and ORY Kratos Login Session Token\nare included in the response:"),Object(s.b)("pre",null,Object(s.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell",metastring:"script",script:!0}),'$ actionUrl=$(\\\n  curl -s -X GET -H "Accept: application/json" \\\n    "http://127.0.0.1:4433/self-service/registration/api" \\\n    | jq -r \'.methods.password.config.action\'\\\n)\n\n$ curl -s -X POST -H  "Accept: application/json" -H "Content-Type: application/json" \\\n    -d \'{"traits.email": "registration-session-api@user.org", "password": "fhAzi860a"}\' \\\n    "$actionUrl" | jq\n\n{\n  "session_token": "9kmrgslvw8ZCyEtSZqOmxEtnfBJIvB31",\n  "session": {\n    "id": "6d5ef6f4-ea54-4310-a762-473499835a48",\n    "active": true,\n    "expires_at": "2020-09-08T10:12:34.792802227Z",\n    "authenticated_at": "2020-09-07T10:12:34.797538934Z",\n    "issued_at": "2020-09-07T10:12:34.792813032Z",\n    "identity": {\n      "id": "8a7755df-1aac-4477-a53c-3f16fa059113",\n      "schema_id": "default",\n      "schema_url": "http://127.0.0.1:4433/schemas/default",\n      "traits": {\n        "email": "registration-session-api@user.org"\n      },\n      "verifiable_addresses": [\n        {\n          "id": "95139fe8-3360-4b08-adf6-4cc9b4555d86",\n          "value": "registration-session-api@user.org",\n          "verified": false,\n          "via": "email",\n          "status": "pending",\n          "verified_at": null\n        }\n      ],\n      "recovery_addresses": [\n        {\n          "id": "e6987729-b6fa-48d5-aa15-c0a57edfdfc4",\n          "value": "registration-session-api@user.org",\n          "via": "email"\n        }\n      ]\n    }\n  },\n  "identity": {\n    "id": "8a7755df-1aac-4477-a53c-3f16fa059113",\n    "schema_id": "default",\n    "schema_url": "http://127.0.0.1:4433/schemas/default",\n    "traits": {\n      "email": "registration-session-api@user.org"\n    },\n    "verifiable_addresses": [\n      {\n        "id": "95139fe8-3360-4b08-adf6-4cc9b4555d86",\n        "value": "registration-session-api@user.org",\n        "verified": false,\n        "via": "email",\n        "status": "pending",\n        "verified_at": null\n      }\n    ],\n    "recovery_addresses": [\n      {\n        "id": "e6987729-b6fa-48d5-aa15-c0a57edfdfc4",\n        "value": "registration-session-api@user.org",\n        "via": "email"\n      }\n    ]\n  }\n}\n')),Object(s.b)("h2",{id:"hooks"},"Hooks"),Object(s.b)("p",null,"ORY Kratos allows you to configure hooks that run before and after a Registration Flow.\nThis may be helpful if you'd like to restrict registration to IPs coming from your internal network or other logic."),Object(s.b)("p",null,"For more information about hooks please read the ",Object(s.b)("a",Object(a.a)({parentName:"p"},{href:"../hooks"}),"Hook Documentation"),"."))}N.isMDXComponent=!0},313:function(e,t,n){"use strict";var a=n(0),i=n(19);t.a=function(){const e=Object(a.useContext)(i.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},317:function(e,t,n){"use strict";var a=n(0),i=n.n(a),s=n(331),r=n.n(s),o=n(48),l=n.n(o),c=n(326),d=n.n(c);r.a.initialize({startOnLoad:!0,logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,theme:"neutral",flowchart:{useMaxWidth:!0,htmlLabels:!0,rankSpacing:65,nodeSpacing:30,curve:"basis"},sequence:{useMaxWidth:!0},gantt:{useMaxWidth:!0}});t.a=({chart:e})=>{const[t,n]=Object(a.useState)(!1),[s,o]=Object(a.useState)(void 0),[c]=Object(a.useState)("mermaid-"+Math.random().toString(36).substr(2,-1)),p=()=>n(!t);return Object(a.useEffect)(()=>{r.a.render(c,e,e=>{o(e)})},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onClick:p,className:d()(l.a.graph,l.a.pointer),dangerouslySetInnerHTML:{__html:s}}),i.a.createElement("div",{onClick:p,className:d()(l.a.overlay,l.a.pointer,l.a.graph,{[l.a.visible]:t})},i.a.createElement("div",{onClick:e=>e.stopPropagation(),className:d()(l.a.backdrop,l.a.graph),dangerouslySetInnerHTML:{__html:s}})))}},318:function(e,t,n){"use strict";function a(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(i&&(i+=" "),i+=t);return i}},321:function(e,t,n){"use strict";var a=n(0),i=n.n(a),s=n(324),r=n(318),o=n(49),l=n.n(o);const c=37,d=39;t.a=function(e){const{block:t,children:n,defaultValue:o,values:p,groupId:u}=e,{tabGroupChoices:b,setTabGroupChoices:m}=Object(s.a)(),[h,f]=Object(a.useState)(o),[g,v]=Object(a.useState)(!1);if(null!=u){const e=b[u];null!=e&&e!==h&&p.some(t=>t.value===e)&&f(e)}const w=e=>{f(e),null!=u&&m(u,e)},y=[],j=e=>{e.metaKey||e.altKey||e.ctrlKey||v(!0)},O=()=>{v(!1)};return Object(a.useEffect)(()=>{window.addEventListener("keydown",j),window.addEventListener("mousedown",O)},[]),i.a.createElement("div",null,i.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(r.a)("tabs",{"tabs--block":t})},p.map(({value:e,label:t})=>i.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===e,className:Object(r.a)("tabs__item",l.a.tabItem,{"tabs__item--active":h===e}),style:g?{}:{outline:"none"},key:e,ref:e=>y.push(e),onKeyDown:e=>{((e,t,n)=>{switch(n.keyCode){case d:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case c:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(y,e.target,e),j(e)},onFocus:()=>w(e),onClick:()=>{w(e),v(!1)},onPointerDown:()=>v(!1)},t))),i.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter(e=>e.props.value===h)[0]))}},322:function(e,t,n){"use strict";var a=n(0),i=n.n(a);t.a=function(e){return i.a.createElement("div",null,e.children)}},323:function(e,t,n){"use strict";var a=n(0);const i=Object(a.createContext)(void 0);t.a=i},324:function(e,t,n){"use strict";var a=n(0),i=n(323);t.a=function(){const e=Object(a.useContext)(i.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},329:function(e,t,n){"use strict";var a=n(2),i=n(0),s=n.n(i),r=n(318),o={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","at-rule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},l={Prism:n(20).a,theme:o};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var p=/\r\n|\r|\n/,u=function(e){0===e.length?e.push({types:["plain"],content:"",empty:!0}):1===e.length&&""===e[0].content&&(e[0].empty=!0)},b=function(e,t){var n=e.length;return n>0&&e[n-1]===t?e:e.concat(t)},m=function(e,t){var n=e.plain,a=Object.create(null),i=e.styles.reduce((function(e,n){var a=n.languages,i=n.style;return a&&!a.includes(t)||n.types.forEach((function(t){var n=d({},e[t],i);e[t]=n})),e}),a);return i.root=n,i.plain=d({},n,{backgroundColor:null}),i};function h(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}var f=function(e){function t(){for(var t=this,n=[],a=arguments.length;a--;)n[a]=arguments[a];e.apply(this,n),c(this,"getThemeDict",(function(e){if(void 0!==t.themeDict&&e.theme===t.prevTheme&&e.language===t.prevLanguage)return t.themeDict;t.prevTheme=e.theme,t.prevLanguage=e.language;var n=e.theme?m(e.theme,e.language):void 0;return t.themeDict=n})),c(this,"getLineProps",(function(e){var n=e.key,a=e.className,i=e.style,s=d({},h(e,["key","className","style","line"]),{className:"token-line",style:void 0,key:void 0}),r=t.getThemeDict(t.props);return void 0!==r&&(s.style=r.plain),void 0!==i&&(s.style=void 0!==s.style?d({},s.style,i):i),void 0!==n&&(s.key=n),a&&(s.className+=" "+a),s})),c(this,"getStyleForToken",(function(e){var n=e.types,a=e.empty,i=n.length,s=t.getThemeDict(t.props);if(void 0!==s){if(1===i&&"plain"===n[0])return a?{display:"inline-block"}:void 0;if(1===i&&!a)return s[n[0]];var r=a?{display:"inline-block"}:{},o=n.map((function(e){return s[e]}));return Object.assign.apply(Object,[r].concat(o))}})),c(this,"getTokenProps",(function(e){var n=e.key,a=e.className,i=e.style,s=e.token,r=d({},h(e,["key","className","style","token"]),{className:"token "+s.types.join(" "),children:s.content,style:t.getStyleForToken(s),key:void 0});return void 0!==i&&(r.style=void 0!==r.style?d({},r.style,i):i),void 0!==n&&(r.key=n),a&&(r.className+=" "+a),r}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.Prism,n=e.language,a=e.code,i=e.children,s=this.getThemeDict(this.props),r=t.languages[n];return i({tokens:function(e){for(var t=[[]],n=[e],a=[0],i=[e.length],s=0,r=0,o=[],l=[o];r>-1;){for(;(s=a[r]++)<i[r];){var c=void 0,d=t[r],m=n[r][s];if("string"==typeof m?(d=r>0?d:["plain"],c=m):(d=b(d,m.type),m.alias&&(d=b(d,m.alias)),c=m.content),"string"==typeof c){var h=c.split(p),f=h.length;o.push({types:d,content:h[0]});for(var g=1;g<f;g++)u(o),l.push(o=[]),o.push({types:d,content:h[g]})}else r++,t.push(d),n.push(c),a.push(0),i.push(c.length)}r--,t.pop(),n.pop(),a.pop(),i.pop()}return u(o),l}(void 0!==r?t.tokenize(a,r,n):[a]),className:"prism-code language-"+n,style:void 0!==s?s.root:{},getLineProps:this.getLineProps,getTokenProps:this.getTokenProps})},t}(i.Component),g=n(348),v=n.n(g),w=n(349),y=n.n(w),j=n(313),O={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},k=n(330);var N=()=>{const{siteConfig:{themeConfig:{prism:e={}}}}=Object(j.a)(),{isDarkTheme:t}=Object(k.a)(),n=e.theme||O,a=e.darkTheme||n;return t?a:n},T=n(50),R=n.n(T);const x=/{([\d,-]+)}/,C=(e=["js","jsBlock","jsx","python","html"])=>{const t={js:{start:"\\/\\/",end:""},jsBlock:{start:"\\/\\*",end:"\\*\\/"},jsx:{start:"\\{\\s*\\/\\*",end:"\\*\\/\\s*\\}"},python:{start:"#",end:""},html:{start:"\x3c!--",end:"--\x3e"}},n=["highlight-next-line","highlight-start","highlight-end"].join("|"),a=e.map(e=>`(?:${t[e].start}\\s*(${n})\\s*${t[e].end})`).join("|");return new RegExp(`^\\s*(?:${a})\\s*$`)},S=/title=".*"/;t.a=({children:e,className:t,metastring:n})=>{const{siteConfig:{themeConfig:{prism:o={}}}}=Object(j.a)(),[c,d]=Object(i.useState)(!1),[p,u]=Object(i.useState)(!1);Object(i.useEffect)(()=>{u(!0)},[]);const b=Object(i.useRef)(null);let m=[],h="";const g=N();if(n&&x.test(n)){const e=n.match(x)[1];m=y.a.parse(e).filter(e=>e>0)}n&&S.test(n)&&(h=n.match(S)[0].split("title=")[1].replace(/"+/g,""));let w=t&&t.replace(/language-/,"");!w&&o.defaultLanguage&&(w=o.defaultLanguage);let O=e.replace(/\n$/,"");if(0===m.length&&void 0!==w){let t="";const n=(e=>{switch(e){case"js":case"javascript":case"ts":case"typescript":return C(["js","jsBlock"]);case"jsx":case"tsx":return C(["js","jsBlock","jsx"]);case"html":return C(["js","jsBlock","html"]);case"python":case"py":return C(["python"]);default:return C()}})(w),a=e.replace(/\n$/,"").split("\n");let i;for(let e=0;e<a.length;){const s=e+1,r=a[e].match(n);if(null!==r){switch(r.slice(1).reduce((e,t)=>e||t,void 0)){case"highlight-next-line":t+=s+",";break;case"highlight-start":i=s;break;case"highlight-end":t+=`${i}-${s-1},`}a.splice(e,1)}else e+=1}m=y.a.parse(t),O=a.join("\n")}const k=()=>{v()(O),d(!0),setTimeout(()=>d(!1),2e3)};return s.a.createElement(f,Object(a.a)({},l,{key:String(p),theme:g,code:O,language:w}),({className:e,style:t,tokens:n,getLineProps:i,getTokenProps:o})=>s.a.createElement(s.a.Fragment,null,h&&s.a.createElement("div",{style:t,className:R.a.codeBlockTitle},h),s.a.createElement("div",{className:R.a.codeBlockContent},s.a.createElement("button",{ref:b,type:"button","aria-label":"Copy code to clipboard",className:Object(r.a)(R.a.copyButton,{[R.a.copyButtonWithTitle]:h}),onClick:k},c?"Copied":"Copy"),s.a.createElement("div",{tabIndex:0,className:Object(r.a)(e,R.a.codeBlock,{[R.a.codeBlockWithTitle]:h})},s.a.createElement("div",{className:R.a.codeBlockLines,style:t},n.map((e,t)=>{1===e.length&&""===e[0].content&&(e[0].content="\n");const n=i({line:e,key:t});return m.includes(t+1)&&(n.className=n.className+" docusaurus-highlight-code-line"),s.a.createElement("div",Object(a.a)({key:t},n),e.map((e,t)=>s.a.createElement("span",Object(a.a)({key:t},o({token:e,key:t})))))}))))))}},330:function(e,t,n){"use strict";var a=n(0),i=n(346);t.a=function(){const e=Object(a.useContext)(i.a);if(null==e)throw new Error("`useThemeContext` is used outside of `Layout` Component. See https://v2.docusaurus.io/docs/theme-classic#usethemecontext.");return e}},332:function(e,t){},333:function(e,t){},334:function(e,t){},335:function(e,t){},336:function(e,t){},337:function(e,t){},338:function(e,t){},339:function(e,t){},340:function(e,t){},341:function(e,t){},342:function(e,t){},343:function(e,t){},344:function(e,t){},345:function(e,t,n){var a={"./locale":320,"./locale.js":320};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=s,e.exports=i,i.id=345},346:function(e,t,n){"use strict";var a=n(0);const i=n.n(a).a.createContext(void 0);t.a=i},348:function(e,t,n){"use strict";const a=(e,{target:t=document.body}={})=>{const n=document.createElement("textarea"),a=document.activeElement;n.value=e,n.setAttribute("readonly",""),n.style.contain="strict",n.style.position="absolute",n.style.left="-9999px",n.style.fontSize="12pt";const i=document.getSelection();let s=!1;i.rangeCount>0&&(s=i.getRangeAt(0)),t.append(n),n.select(),n.selectionStart=0,n.selectionEnd=e.length;let r=!1;try{r=document.execCommand("copy")}catch(o){}return n.remove(),s&&(i.removeAllRanges(),i.addRange(s)),a&&a.focus(),r};e.exports=a,e.exports.default=a},349:function(e,t){e.exports.parse=function(e){var t=e.split(",").map((function(e){return function(e){if(/^-?\d+$/.test(e))return parseInt(e,10);var t;if(t=e.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){var n=t[1],a=t[2],i=t[3];if(n&&i){var s=[],r=(n=parseInt(n))<(i=parseInt(i))?1:-1;"-"!=a&&".."!=a&&"\u2025"!=a||(i+=r);for(var o=n;o!=i;o+=r)s.push(o);return s}}return[]}(e)}));return 0===t.length?[]:1===t.length?Array.isArray(t[0])?t[0]:t:t.reduce((function(e,t){return Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.concat(t)}))}},360:function(e,t,n){"use strict";var a=n(0),i=n.n(a),s=n(317);const r=({flows:e=["login","registration","settings","..."],interactions:t=['"Log in"','"Sign Up"','"Update Email"',"..."],success:n="Perform flow-specific action (e.g. create user, set session cookie, ...)"})=>{const a=e.length>1?`<${e.join("|")}>`:""+e.join("|");return`\nsequenceDiagram\n\n  participant B as Browser\n  participant K as ORY Kratos\n  participant A as Flow UI\n\n  B->>K: Follow link to /self-service/${a}/browser\n  K--\x3e>K: Create and store new ${e.join(", ")} flow\n  K->>B: HTTP 302 Found <selfservice.flows.${a}.ui_url>?flow=<flow-id>\n\n  B->>A: Opens <selfservice.flows.<${e.join("|")}>.ui_url>?flow=<flow-id>\n  A--\x3e>K: Fetches data to render forms using /selfservice/${a}/flows?id=<flow-id>\n  B--\x3e>A: Fills out forms, clicks e.g. ${t.join(", ")}\n  B->>K: Submits form\n  K--\x3e>K: Validates and processes form payloads\n\n  alt Form payload is valid valid\n    K->>B: ${n}\n  else Login data invalid\n    K--\x3e>K: Update and store flow (e.g. add form validation errors)\n    K--\x3e>B: HTTP 302 Found <selfservice.flows.${a}.ui_url>?flow=<flow-id>\n    B->>A: Opens <selfservice.flows.${a}?flow=<flow-id>\n    A--\x3e>K: Fetches data to render form fields and errors\n    B->>K: Repeat flow with input data, submit, validate, ...\n  end\n`};t.a=e=>i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{chart:r(e)}),i.a.createElement("p",null,"The ",i.a.createElement("em",null,"Flow UI")," (",i.a.createElement("strong",null,"your application!"),') is responsible for rendering the actual Login and Registration HTML Forms. You can of course implement one app for rendering all the Login, Registration, ... screens, and another app (think "Service Oriented Architecture", "Micro-Services" or "Service Mesh") is responsible for rendering your Dashboards, Management Screens, and so on.'))},361:function(e,t,n){"use strict";var a=n(0),i=n.n(a),s=n(317);const r=({flows:e=["login","registration","settings","..."],methods:t=["password","oidc","..."],interactions:n=['"Log in"','"Sign Up"','"Update Email"',"..."],success:a="Perform flow-specific action (e.g. create user, set session cookie, ...)"})=>{const i=e.length>1?`<${e.join("|")}>`:""+e.join("|");return`\nsequenceDiagram\n  participant B as API Client\n  participant K as ORY Kratos\n\n  B->>K: REST GET /self-service/${i}/api\n  K--\x3e>K: Create and store new ${e.join(", ")} flow\n  K->>B: HTTP 200 OK with flow as application/json payload\n  B--\x3e>B: Render form using e.g. Native iOS UI Elements\n  B--\x3e>B: User fills out forms, clicks e.g. ${n}\n  B->>K: REST POST to e.g. /self-service/${i}/methods/<${t.join("|")}>\n  K--\x3e>K: Validates and processes payload\n  alt Form payload is valid valid\n    K->>B: ${a}\n  else Login data invalid\n    K--\x3e>K: Update and store flow (e.g. add form validation errors)\n    K->>B: Respond with e.g. HTTP 400 Bad Request and updated flow as payload\n    B--\x3e>B: Render form and validation errors using e.g. Native iOS UI Elements\n    B--\x3e>K: Repeat flow with input data, submit, validate, ...\n  end\n`};t.a=e=>i.a.createElement(s.a,{chart:r(e)})},362:function(e,t,n){"use strict";var a=n(321),i=n(322),s=n(0),r=n.n(s),o=n(329);t.a=({items:e})=>r.a.createElement(a.a,{defaultValue:Object.keys(e)[0],values:Object.keys(e).map(t=>({label:e[t].label,value:t}))},Object.keys(e).map(t=>r.a.createElement(i.a,{key:t,value:t},e[t].code?r.a.createElement(o.a,{className:"language-"+e[t].language,children:e[t].code}):r.a.createElement("img",{src:e[t].image,alt:e[t].alt}))))},368:function(e,t,n){"use strict";var a=n(0),i=n.n(a);t.a=()=>i.a.createElement("div",{className:"admonition admonition-warning alert alert--danger"},i.a.createElement("div",{className:"admonition-heading"},i.a.createElement("h5",null,i.a.createElement("span",{className:"admonition-icon"},i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},i.a.createElement("path",{"fill-rule":"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),i.a.createElement("div",{className:"admonition-content"},i.a.createElement("p",null,"Never use API flows to implement Browser applications!"),i.a.createElement("p",null,"Using API flows in Single-Page-Apps as well as server-side apps opens up several potential attack vectors, including including Login and other CSRF attacks.")))},369:function(e,t,n){"use strict";var a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a)return a;throw new Error("unable to locate global object")}();e.exports=t=a.fetch,t.default=a.fetch.bind(a),t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response},370:function(e,t,n){"use strict";var a=n(321),i=n(322),s=n(0),r=n.n(s),o=n(369),l=n.n(o),c=n(329);var d=({src:e,link:t})=>{const[n,a]=Object(s.useState)("");return Object(s.useEffect)(()=>{l()(e).then(e=>e.text()).then(a).catch(console.err)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{metastring:t&&`title="${t}"`,className:"language-typescript",children:n}))},p=n.p+"assets/images/browser-61597c2d37644d2e9a6cd62143a17d19.png",u=n.p+"assets/images/browser-3fffa4ddf3b8dbaa9171845af0b1ace3.png",b=n.p+"assets/images/browser-95c5fd81e495c104256cf0460ebd835a.png",m=n.p+"assets/images/browser-22673e53b8fd2d5b86732105f965b818.png";t.a=({flow:e})=>{let t;switch(e){case"registration":t=r.a.createElement("img",{src:b,alt:"User Registration HTML Form"});break;case"login":t=r.a.createElement("img",{src:p,alt:"User Login HTML Form"});break;case"settings":t=r.a.createElement("img",{src:u,alt:"Profile Settings HTML Form"});break;case"recovery":t=r.a.createElement("img",{src:m,alt:"Account Recovery HTML Form"});break;case"verification":t=r.a.createElement("img",{src:m,alt:"Email Verification HTML Form"})}return r.a.createElement(a.a,{defaultValue:"browser",values:[{label:"Browser UI",value:"browser"},{label:"ExpressJS & Handlebars",value:"express"},{label:"ReactJS",value:"react"},{label:"React Native",value:"react-native"}]},r.a.createElement(i.a,{value:"browser"},t),r.a.createElement(i.a,{value:"express"},r.a.createElement(d,{link:`https://github.com/ory/kratos-selfservice-ui-node/blob/master/src/routes/${e}.ts`,src:`https://raw.githubusercontent.com/ory/kratos-selfservice-ui-node/master/src/routes/${e}.ts`}),"The views can be rather simple, as ORY Kratos provides you with all the information you need for rendering the forms. The following examples use Handlebars and a generic form generator to render the Flow:",r.a.createElement(a.a,{defaultValue:"view",values:[{label:(n=e,n.charAt(0).toUpperCase()+n.slice(1))+" View",value:"view"},{label:"Generic Form View",value:"generic-form"},{label:"Example Input Form Element",value:"input-form"}]},r.a.createElement(i.a,{value:"view"},r.a.createElement(d,{link:`https://github.com/ory/kratos-selfservice-ui-node/blob/master/views/${e}.hbs`,src:`https://raw.githubusercontent.com/ory/kratos-selfservice-ui-node/master/views/${e}.hbs`})),r.a.createElement(i.a,{value:"generic-form"},r.a.createElement(d,{link:"https://github.com/ory/kratos-selfservice-ui-node/blob/master/views/partials/form.hbs",src:"https://raw.githubusercontent.com/ory/kratos-selfservice-ui-node/master/views/partials/form.hbs"})),r.a.createElement(i.a,{value:"input-form"},r.a.createElement(d,{link:"https://github.com/ory/kratos-selfservice-ui-node/blob/master/views/partials/form_input_default.hbs",src:"https://raw.githubusercontent.com/ory/kratos-selfservice-ui-node/master/views/partials/form_input_default.hbs"}))),"The rest of the form partials can be found"," ",r.a.createElement("a",{href:"https://github.com/ory/kratos-selfservice-ui-node/tree/master/views/partials"},"here"),"."),r.a.createElement(i.a,{value:"react"},"A React example is currently in the making."),r.a.createElement(i.a,{value:"react-native"},"A React Native example is currently in the making."));var n}},942:function(e,t,n){"use strict";n.r(t),t.default='$ curl -H "Accept: application/json" -s\n    \'http://127.0.0.1:4434/self-service/registration/flows?id=7c4260f5-55ad-470a-b1d4-e72dd011e4fe\' | jq\n\n{\n  "id": "7c4260f5-55ad-470a-b1d4-e72dd011e4fe",\n  "type": "browser",\n  "expires_at": "2020-08-24T12:01:46.0750749Z",\n  "issued_at": "2020-08-24T11:51:46.0750749Z",\n  "request_url": "http://127.0.0.1:4433/self-service/registration/browser",\n  "active": "password",\n  "methods": {\n    // password ...\n    // oidc ...\n  },\n  "forced": false\n}\n'},943:function(e,t,n){"use strict";n.r(t),t.default="import {CommonApi} from '@oryd/kratos-client'\n\nconst kratos = new CommonApi('http://127.0.0.1:4433/')\n\nconst flowId = '' // usually something like: req.query.flow\n\nkratos.getSelfServiceRegistrationFlow(flowId)\n  .then(({body}) => {\n    console.log(body) // see the Raw HTTP tab for the payload\n  })\n"},944:function(e,t,n){"use strict";n.r(t),t.default='package samples\n\nimport (\n  "fmt"\n\n  "github.com/ory/kratos-client-go/client/public"\n  "github.com/ory/kratos-client-go/client"\n\n  "github.com/ory/kratos/internal/httpclient/client/common"\n)\n\nfunc main() {\n  c := client.NewHTTPClientWithConfig(nil,\n    &client.TransportConfig{Host: "127.0.0.1:4433", BasePath: "/", Schemes: []string{"http"}})\n\n  flowID := "" // Usually something like: res.Request.URL.Query().Get("flow")\n\n  rs, err := c.Common.GetSelfServiceRegistrationFlow(\n    common.NewGetSelfServiceRegistrationFlowParams().\n      WithID(flowID),\n  )\n\n  fmt.Printf("%+v", rs.Payload) //\n}\n'},945:function(e,t,n){"use strict";n.r(t),t.default='curl -s -v -X GET \\\n  -H "Accept: text/html"  \\\n  http://127.0.0.1:4433/self-service/registration/browser\n\n> GET /self-service/registration/browser HTTP/1.1\n> Host: 127.0.0.1:4433\n> User-Agent: curl/7.64.1\n> Accept: text/html\n>\n< HTTP/1.1 302 Found\n< Cache-Control: 0\n< Content-Type: text/html; charset=utf-8\n< Location: http://127.0.0.1:4455/auth/registration?flow=df607aa1-d555-4b2a-b3e4-0f5a1d2fe6f3\n< Set-Cookie: csrf_token=y4Ocu6V83BapwJwbPw/pnlRHHw40DZbjq5iuDrxl0Ds=; Path=/; Domain=127.0.0.1; Max-Age=31536000; HttpOnly\n<\n<a href="http://127.0.0.1:4455/auth/registration?flow=df607aa1-d555-4b2a-b3e4-0f5a1d2fe6f3">Found</a>.\n'},946:function(e,t,n){"use strict";n.r(t),t.default='<a href="http://127.0.0.1:4433/self-service/registration/browser">sign up</a>\n\n\x3c!-- or --\x3e\n\n<script>\n  const initRegistration = () => {\n    window.location.href = \'http://127.0.0.1:4433/self-service/registration/browser\'\n  }\n<\/script>\n\n<a onClick="initRegistration">Sign up</a>\n'},947:function(e,t,n){"use strict";n.r(t),t.default="import React from 'react'\n\nconst MyComponent = () => (\n  <a href=\"http://127.0.0.1:4433/self-service/registration/browser\">Sign up</a>\n)\n"},948:function(e,t,n){"use strict";n.r(t),t.default="express.get('/registration', function (req, res) {\n  res.redirect(302, 'http://127.0.0.1:4433/self-service/registration/browser')\n})\n"},949:function(e,t,n){"use strict";n.r(t),t.default='<a href="http://127.0.0.1:4433/self-service/registration/browser">Sign up</a>\n'},950:function(e,t,n){"use strict";n.r(t),t.default='$ curl -s -X GET \\\n  -H "Accept: application/json"  \\\n  http://127.0.0.1:4433/self-service/registration/api | jq\n\n{\n  "id": "daf9913c-9807-453b-aa01-4a740a43ca4e",\n  "type": "api",\n  "expires_at": "2020-09-05T08:16:52.043498Z",\n  "issued_at": "2020-09-05T08:06:52.043498Z",\n  "request_url": "http://127.0.0.1:4433/self-service/registration/api"\n  "methods": {\n    // password,\n    // oidc,\n    // ...\n  }\n}\n'},951:function(e,t,n){"use strict";n.r(t),t.default="import {PublicApi} from '@oryd/kratos-client'\n\nconst kratos = new PublicApi('http://127.0.0.1:4433/')\nkratos.initializeSelfServiceRegistrationViaAPIFlow()\n  .then(({body}) => {\n    console.log(body) // see the Raw HTTP tab for the payload\n  })\n"},952:function(e,t,n){"use strict";n.r(t),t.default='package api\n\nimport (\n  "fmt"\n\n  "github.com/ory/kratos-client-go/client/public"\n  "github.com/ory/kratos-client-go/client"\n)\n\nfunc main() {\n  c := client.NewHTTPClientWithConfig(nil,\n    &client.TransportConfig{Host: "127.0.0.1:4433", BasePath: "/", Schemes: []string{"http"}})\n\n  rs, _ := c.Public.InitializeSelfServiceRegistrationViaAPIFlow(public.\n    NewInitializeSelfServiceRegistrationViaAPIFlowParams())\n\n  fmt.Printf("%+v", rs.Payload)\n}\n'},953:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/browser-error-c055e0574b0cb30cd617f9f1d7788cd8.png"},954:function(e,t,n){"use strict";n.r(t),t.default='$ curl -H "Accept: application/json" -s \\\n    \'http://127.0.0.1:4433/self-service/registration/flows?id=e7fd5f9d-4ac4-40ba-bf39-8743f85360c5\' \\\n    | jq -r \'.methods.password.config\'\n\n{\n  "action": "http://127.0.0.1:4433/self-service/registration/methods/password?flow=e7fd5f9d-4ac4-40ba-bf39-8743f85360c5",\n  "method": "POST",\n  "fields": [\n    {\n      "name": "identifier",\n      "type": "text",\n      "required": true,\n      "value": "foo@ory.sh"\n    },\n    {\n      "name": "password",\n      "type": "password",\n      "required": true\n    },\n    {\n      "name": "csrf_token",\n      "type": "hidden",\n      "required": true,\n      "value": "G8J8PTctGsu7jx4zwed6CGefexw14Xyqi+IBeXNLPlap+0ywodiN1WsKZMTBrB670X4rK/mZPOiokmmOQYUUBw=="\n    }\n  ],\n  "messages": [\n    {\n      "id": 4000006,\n      "text": "The provided credentials are invalid, check for spelling mistakes in your password or username, email address, or phone number.",\n      "type": "error",\n      "context": {}\n    }\n  ]\n}\n'},955:function(e,t,n){"use strict";n.r(t),t.default='$ curl -H "Accept: application/json" -s \\\n    \'http://127.0.0.1:4433/self-service/registration/flows?id=4187c805-3635-4a52-90ac-2e6a5ea3eaf5\' \\\n    | jq -r \'.methods.password.config\'\n\n{\n  "action": "http://127.0.0.1:4433/self-service/registration/methods/password?flow=4187c805-3635-4a52-90ac-2e6a5ea3eaf5",\n  "method": "POST",\n  "fields": [\n    {\n      "name": "csrf_token",\n      "type": "hidden",\n      "required": true,\n      "value": "6PFc2kc+7Z7kAdpMrTe8TDrO9k1GyCb0sxsW3B29a5Ou1e8IUSz8CsCjZfo03mDubP4lzMhsgrJ51E9bvcqzAA=="\n    },\n    {\n      "name": "password",\n      "type": "password",\n      "required": true\n    },\n    {\n      "name": "traits.email",\n      "type": "text",\n      "value": "",\n      "messages": [\n        {\n          "id": 4000001,\n          "text": "validation failed",\n          "type": "error"\n        },\n        {\n          "id": 4000001,\n          "text": "\\"\\" is not valid \\"email\\"",\n          "type": "error"\n        },\n        {\n          "id": 4000001,\n          "text": "length must be >= 3, but got 0",\n          "type": "error"\n        },\n        {\n          "id": 4000001,\n          "text": "\\"\\" is not valid \\"email\\"",\n          "type": "error"\n        }\n      ]\n    },\n    {\n      "name": "traits.name.first",\n      "type": "text",\n      "value": "ORY"\n    },\n    {\n      "name": "traits.name.last",\n      "type": "text",\n      "value": "GitHub"\n    }\n  ]\n}\n'},956:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/browser-oidc-invalid-7c8f9ae2d6d492c0bcf9926dec2ffb99.png"},957:function(e,t,n){"use strict";n.r(t),t.default='curl -H "Accept: application/json" -s \\\n    \'http://127.0.0.1:4433/self-service/registration/flows?id=f71b24aa-92d4-49a7-957b-72eea1c4c39d\' \\\n    | jq -r \'.methods.oidc.config\'\n\n{\n  "action": "http://127.0.0.1:4433/self-service/methods/oidc/auth/f71b24aa-92d4-49a7-957b-72eea1c4c39d",\n  "method": "POST",\n  "fields": [\n    {\n      "name": "csrf_token",\n      "type": "hidden",\n      "required": true,\n      "value": "oc9VAZ5c/nvHYkb7G/z+FSn2o5kKzylFSnje6bsSANrn6+bTiE7v7+PA+U2CFSK3f8ZwGIRrjQOAt4duG2XYSQ=="\n    },\n    {\n      "name": "traits.email",\n      "type": "text",\n      "value": "aeneas@ory.sh"\n    },\n    {\n      "name": "traits.website",\n      "type": "",\n      "messages": [\n        {\n          "id": 4000002,\n          "text": "Property website is missing.",\n          "type": "error",\n          "context": {\n            "property": "website"\n          }\n        }\n      ]\n    },\n    {\n      "name": "provider",\n      "type": "submit",\n      "value": "github"\n    }\n  ]\n}\n'},958:function(e,t,n){"use strict";n.r(t),t.default='$ curl -s -H "Accept: application/json" \\\n  \'http://127.0.0.1:4433/self-service/registration/flows?id=2e87577f-1209-407c-b523-4727d7bbdbd4\' \\\n  | jq -r \'methods.oidc.config\'\n\n{\n  "action": "http://127.0.0.1:4433/self-service/methods/oidc/auth/2e87577f-1209-407c-b523-4727d7bbdbd4",\n  "method": "POST",\n  "messages": [\n    {\n      "id": 4000000,\n      "type": "error",\n      "text": "Authentication failed because no id_token was returned. Please accept the \\"openid\\" permission and try again."\n    }\n  ],\n  "fields": [\n    {\n      "name": "csrf_token",\n      "type": "hidden",\n      "required": true,\n      "value": "O0e8KWxx1zZeNEgUOxNFvV8dVMrK63MXoxU102lj9n0nXcsaDWXhPn0TiZG3Nk+nLi/pT1wjTUsHniLRKOpp3w=="\n    },\n    {\n      "name": "provider",\n      "type": "submit",\n      "value": "github"\n    }\n  ]\n}\n'}}]);